

Be sure you have ssh-agent working.
Add your key to the agent if you haven't already: ssh-add -K
and add something like the following to .ssh/config
Host *
  ForwardAgent yes

ec2-user is the login, the shell is sh, not bash


took about 1 hour and 40 mins for the whole thing to come up and running.


* commands
** HA
source openrc
SEC_ID=$(nova secgroup-list | awk '/ default / { print $2 }')
NET_ID=$(nova net-list | awk '/ ext-net / { print $2 }')
heat stack-create -f high_availability_chef_server-HOT.yml -P public_net=$NET_ID -P secgroup_id=$SEC_ID chefserver_HA-stack

** single-stack
source openrc
SEC_ID=$(nova secgroup-list | awk '/ default / { print $2 }')
NET_ID=$(nova net-list | awk '/ ext-net / { print $2 }')
heat stack-create -f single_chef_server-HOT.yml -P public_net=$NET_ID -P secgroup_id=$SEC_ID chefserver_single-stack
